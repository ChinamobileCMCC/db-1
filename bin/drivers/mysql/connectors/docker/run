#!/usr/bin/env sh

run_sql() {
  sql=$1

  _user=$(printf %q $(cat "${connection_config}" | grep "^user" | cut -d '=' -f 2 | xargs))
  _pass=$(printf %q $(cat "${connection_config}" | grep "^password" | cut -d '=' -f 2 | xargs))
  _host=$(printf %q $(cat "${connection_config}" | grep "^host" | cut -d '=' -f 2 | xargs))

  output=$(echo "${sql}" | docker exec -i "${docker_container}" mysql --user="${_user}" --host="${_host}" --password="${_pass}" --skip-column-names)
  code=${?}
}